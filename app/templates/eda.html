<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CityX Crime Watch - Data Analysis</title>
    <link rel="icon" href="/static/images/icon.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div class="container">
        <div class="content-wrapper fade-in">
            <h1>CityX Crime Watch - Data Analysis</h1>
            
            <nav class="nav-links">
                <a href="/"><i class="fas fa-home"></i>Home</a>
                <a href="/eda"><i class="fas fa-chart-bar"></i>Data Analysis</a>
                <a href="/maps"><i class="fas fa-map-marker-alt"></i>Crime Maps</a>
            </nav>
            
            <div class="viz-section">
                <h2>Crime Categories</h2>
                <p>This visualization shows the distribution of the top 10 crime categories in CityX.</p>
                <div class="viz-container highlight">
                    <img src="/static/images/top_categories.png" alt="Top 10 Crime Categories">
                </div>
            </div>
            
            <div class="viz-section">
                <h2>Temporal Patterns</h2>
                <p>These visualizations show crime incidents by day of week, hour of day, and month.</p>
                <div class="viz-container">
                    <img src="/static/images/crimes_by_day.png" alt="Crime Incidents by Day of Week">
                </div>
                <div class="viz-container">
                    <img src="/static/images/crimes_by_hour.png" alt="Crime Incidents by Hour of Day">
                </div>
                <div class="viz-container">
                    <img src="/static/images/crimes_by_month.png" alt="Crime Incidents by Month">
                </div>
            </div>
            
            <div class="viz-section">
                <h2>Geographic Patterns</h2>
                <p>This visualization shows crime incidents by police district.</p>
                <div class="viz-container">
                    <img src="/static/images/crimes_by_district.png" alt="Crime Incidents by Police District">
                </div>
            </div>
            
            <div class="viz-section">
                <h2>Resolution Types</h2>
                <p>This visualization shows the top 10 resolution types for crime incidents.</p>
                <div class="viz-container">
                    <img src="/static/images/resolution_types.png" alt="Top 10 Resolution Types">
                </div>
            </div>
            
            <div class="viz-section">
                <h2>Severity Distribution</h2>
                <p>This visualization shows the distribution of crime incidents by severity level.</p>
                <div class="viz-container">
                    <img src="/static/images/severity_distribution.png" alt="Severity Distribution">
                </div>
            </div>
        </div>
    </div>

    <script>
        // Reveal charts as user scrolls
        document.addEventListener("DOMContentLoaded", function() {
            const sections = document.querySelectorAll('.viz-section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.15,
                rootMargin: '0px 0px -100px 0px'
            });
            
            sections.forEach(section => {
                observer.observe(section);
            });
            
            // Add image loading animation
            const images = document.querySelectorAll('.viz-container img');
            images.forEach(img => {
                img.style.opacity = '0';
                img.style.transition = 'opacity 0.5s ease';
                
                img.addEventListener('load', function() {
                    this.style.opacity = '1';
                });
                
                // If image is already loaded
                if (img.complete) {
                    img.style.opacity = '1';
                }
            });
        });
    </script>
</body>
</html>